@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply bg-white dark:bg-black text-black dark:text-white;
    /* Prevent overscroll and pull-to-refresh */
    overscroll-behavior: none;
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    @apply font-mono text-sm;
    /* Prevent overscroll and pull-to-refresh */
    overscroll-behavior: none;
    position: fixed;
    width: 100%;
    height: 100%;
    overflow: hidden;
    /* Disable iOS bounce/rubber-band effect */
    -webkit-overflow-scrolling: touch;
    /* Disable tap highlight */
    -webkit-tap-highlight-color: transparent;
    /* Prevent callout menu on long press */
    -webkit-touch-callout: none;
  }
  
  /* Main app container should handle scrolling */
  #app {
    position: fixed;
    width: 100%;
    height: 100%;
    overflow: auto;
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  ::selection {
    @apply bg-black dark:bg-white text-white dark:text-black;
  }
}

/* Prose styles for markdown content */
.prose-content {
  @apply leading-relaxed;
}

.prose-content h1,
.prose-content h2,
.prose-content h3,
.prose-content h4,
.prose-content h5,
.prose-content h6 {
  @apply font-semibold mt-6 mb-3;
}

.prose-content h1 { @apply text-2xl; }
.prose-content h2 { @apply text-xl; }
.prose-content h3 { @apply text-lg; }
.prose-content h4 { @apply text-base; }

.prose-content p {
  @apply my-3;
}

.prose-content a {
  @apply underline hover:opacity-80;
}

.prose-content code {
  @apply bg-black/10 dark:bg-white/10 px-1 py-0.5 rounded text-sm;
}

.prose-content pre {
  @apply bg-black/5 dark:bg-white/5 p-4 rounded overflow-x-auto my-4;
}

.prose-content pre code {
  @apply bg-transparent p-0;
}

.prose-content blockquote {
  @apply border-l-4 border-black/20 dark:border-white/20 pl-4 my-4 italic text-black/70 dark:text-white/70;
}

.prose-content ul,
.prose-content ol {
  @apply my-3 pl-6;
}

.prose-content ul {
  @apply list-disc;
}

.prose-content ol {
  @apply list-decimal;
}

.prose-content li {
  @apply my-1;
}

.prose-content hr {
  @apply border-black/20 dark:border-white/20 my-8;
}

.prose-content img {
  @apply max-w-full h-auto my-4 rounded;
}

.prose-content table {
  @apply w-full my-4 text-sm;
}

.prose-content th,
.prose-content td {
  @apply border border-black/20 dark:border-white/20 px-3 py-2;
}

.prose-content th {
  @apply bg-black/5 dark:bg-white/5 font-semibold;
}

/* Line clamp for preview text */
.line-clamp-3 .prose-content * {
  @apply inline;
}
